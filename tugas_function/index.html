<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js function</title>
  </head>
  <body>
    <h1>js function</h1>

    <script>
      alert(
        "Selamat datang di permainan tebak angka 1-3, dimana didalam game ini terdapat 5 ronde silahkan bermain dengan serius, ronde pertama dimulai letsgo"
      );

      function generateRandomNumber() {
        return Math.floor(Math.random() * 3) + 1;
      }

      const player1Name = "Pemain 1";
      const player2Name = "Pemain 2";

      let player1TotalAttempts = 0;
      let player2TotalAttempts = 0;

      function guessNumber(playerName) {
        while (true) {
          let guess = prompt(`${playerName}, menebak angka (antara 1 dan 3):`);

          if (guess === null) {
            alert("Permainan dibatalkan.");
            return null;
          }

          guess = parseInt(guess);

          if (isNaN(guess) || guess < 1 || guess > 3) {
            alert("Masukkan angka yang valid antara 1 dan 3.");
          } else {
            return guess;
          }
        }
      }

      for (let round = 1; round <= 5; round++) {
        alert(`Ronde ${round}`);

        const targetNumber = generateRandomNumber();

        let player1Guess, player2Guess;
        let player1Attempts = 0, player2Attempts = 0;

        while (true) {
          player1Guess = guessNumber(player1Name);
          if (player1Guess === null) {
            break;
          }
          if (player1Guess === targetNumber) {
            player1Attempts++;
            alert(
              `${player1Name} menebak angka dengan benar: ${targetNumber} setelah ${player1Attempts} percobaan. Selamat!`
            );
            break;
          }
          player1Attempts++;

          player2Guess = guessNumber(player2Name);
          if (player2Guess === null) {
            break;
          }
          if (player2Guess === targetNumber) {
            player2Attempts++;
            alert(
              `${player2Name} menebak angka dengan benar: ${targetNumber} setelah ${player2Attempts} percobaan. Selamat!`
            );
            break;
          }
          player2Attempts++;
        }

        alert(
          `Hasil Ronde ${round}:\n${player1Name}: ${player1Guess}\n${player2Name}: ${player2Guess}`
        );

        player1TotalAttempts += player1Attempts;
        player2TotalAttempts += player2Attempts;
      }

      if (player1TotalAttempts < player2TotalAttempts) {
        alert(
          `${player1Name} memenangkan permainan dengan total ${player1TotalAttempts} percobaan, sedangkan ${player2Name} memiliki total ${player2TotalAttempts} percobaan.`
        );
      } else if (player1TotalAttempts > player2TotalAttempts) {
        alert(
          `${player2Name} memenangkan permainan dengan total ${player2TotalAttempts} percobaan, sedangkan ${player1Name} memiliki total ${player1TotalAttempts} percobaan.`
        );
      } else {
        alert(
          `Permainan berakhir imbang dengan kedua pemain memiliki total ${player1TotalAttempts} percobaan.`
        );
      }
    </script>
  </body>
</html>
